#### 计算机の网络

一，OSI参考模型（由下至上依次传输）

- 物理层：将二进制数转化为电信号或者光信号（建立，维护，断开物理链接）
- 数据链路层（进行逻辑链接，进行硬件地址寻址 （MAC），差错校验）
- 网络层：进行逻辑地址（IP地址）寻址，实现不同网路之间的路径选择
- 传输层：定义传输数据的协议端口号，流控，差错校验
- 会话层：建立，管理，断开回话
- 表示层：数据的表示，加密，压缩等
- 应用层：将原始数据转化为电脑能够识别的二进制数据

二，TCP/IP（传输控制协议/网际协议）四层和五层

1. 四层：

   - 网络接口层
   - 网络层
   - 传输层
   - 应用层

2. 五层：

   - 物理层
   - 数据链路层
   - 网络层：IP协议（ARP：地址解析协议；RARP：逆地址解析协议；ICMP：网际控制报文协议；IGMP：网际组管理协议）
   - 传输层：TCP（传输控制协议）：传输更加稳定可靠；UDP（用户数据报协议）：传输效率更改
   - 应用层：HTTP，HTTPS，SSH，TELNET，DNS，POP3，IMAP等等

   | 应用层协议       | 基于传输层 | 默认端口 | 应用场景                                                     |
   | ---------------- | ---------- | -------- | ------------------------------------------------------------ |
   | HTTP             | TCP        | 80       | 用于传输internet浏览器使用的普通文本、超文本、音频和视频等数据。 |
   | HTTPS            | TCP        | 443      | 是基于HTTP开发的，HTTPS应用了安全套接字层（SSL）作为HTTP应用层的子层，可以对数据进行加密和压缩。端口号443。 |
   | POP3             | TCP        | 110      | 本协议主要用于支持使用客户端远程管理在服务器上的电子邮件。   |
   | IMAP             | TCP        | 143      | 用来从本地邮件客户端（Outlook Express、Foxmail、Mozilla Thunderbird等）访问远程服务器上的邮件。 |
   | TELNET           | TCP        | 23       | 远程登录功能允许用户与远程计算机进行动态交互，即用自己的键盘，鼠标等输入设备操纵远程计算机，运行远程计算机上的软件，在自己的显示器上了解运行情况，查看运行结果。 |
   | FTP(控制)/(数据) | TCP        | 21/20    | 首先在本地计算机上启动FTP客户程序，利用他与远程计算机建立连接，远程计算机上的服务端FTP程序被激活。这样本地的FTP程序成为一个客户，而远程FTP程序成为服务器，他们之间通过TCP建立连接，端口号为21。   控制连接主要用于传输FTP控制命令和服务器的回送消息；数据连接主要用于数据传输，完成文件内容的传输。 |
   | DNS              | TCP/UDP    | 53       | 用来将域名映射成IP地址，端口号为TCP或UDP的53。               |
   | SMTP             | TCP        | 25       | 负责服务器之间的邮件传送，最大的特点是简单。<br/>只规定了电子邮件如何在互联网中通过TCP协议在发送方和接收方之间进行传送。 |
   | SNMP             | UDP        | 161      | SNMP被设计为工作在TCP/IP协议族上，基于TCP/IP协议工作，对网络中支持SNMP协议的设备进行管理。<br/>所有支持SNMP协议的设备都提供SNMP这个统一界面，使得管理员可以使用统一的操作进行管理，而不必理会设备是什么类型、是哪个厂家生产的。 |
   | TFTP             | UDP        | 69       | TFTP协议目标是在**UDP**之上建立一个类似于FTP，但仅支持文件上传和下载功能的传输协议，所以它不包含FTP协议中的目录操作和用户权限等内容。 |
   | DHCP             | UDP        | 67/68    | 用于内部网或网络服务供应商自动分配IP地址，子网掩码，网关。给用户用于内部网管理员作为对所有计算机作中央管理的手段。 |
   | 终端控制         | TCP        | 3389     | 远程桌面                                                     |
   | NTP              | UDP        | 123      | 互联网上进行时间同步的应用底层协议。                         |
   | L2TP             | UDP        | 1701     | VPN协议                                                      |




#### 数据的封装和解封装

![image-20220811224310723.png](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808988.png)



#### 数据的传输

![image-20220811230311962](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808989.png)





#### IP地址

IP地址称之为逻辑地址，可以更改

MAC地址称之为物理地址，由于固化在网络接口上，无法更改

网络层功能：进行逻辑寻址



一，概念

1. IP地址

- 用于表示网络中的某台主机（某一个网络接口），主机的唯一标识，保证主机间的正常通信。

- 一种网络编码，用来确定网络中的某一节点

- IP地址由32位的二进制组成，为方便记忆，8位为一组，以点进行分割，转换为十进制

- ```
  192.168.18.22
  11000000.10101000.00010010.00010110
  ```

2. IP地址的组成部分

- 网络部分：用于标识网络的范围
- 主机部分：用于标识网络中的一个节点

![image-20220815221355141](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808990.png)

- 网络部分越长，标识的网络范围越小，ip数越少

二，IP地址分类

1. 公有IP地址分类

- 地址分为A,B,C,D,E五类（32位二进制组成）
  - A类：确定前8位为网络位
    - 第一个8位组范围：0~127，由于“0”代表本地网络，127开头的地址一般用于回路检测，最终范围：1~126
    - 总结：1.0.0.0~127.255.255.255
  - B类：确定前16位为网络位
  - 128.0.0.0~191.255.255.255
  - ![image-20220815222928699](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808991.png)
  - C类：确定前24位为网络位，后面八位为主机位，且以前八位以110开头
    - 192.0.0.0~223.255.255.255
    - 网络部分范围192.0.0~223.255.255

2. 私有IP地址分类

- A：10.0.0.0~10.255.255.255
- B： 172.16.0.0~172.31.255.255
- C：192.168.0.0~192.168.255.255
- 私网地址不能在公网上直接路由，需要网络地址转换为公网地址后访问公网



#### 子网掩码

1，概念

- 用来确定IP地址的网络部分

- 由32位的二进制组成，对应IP的网络部分由1表示，主机部分由0表示

  - ![image-20220825212536524](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808992.png)
  - 根据子网掩码来得出网络部分和主机部分，在本网络中的第一个地址就是网络地址，最后一个地址就是广播地址
  - 使用IP地址和子网掩码进行逻辑“与”运算得出网络地址
  - 例子：192.168.1.1/24   其中“/24”代表子网掩码位数为24位，即24个“1” ； 可能有"/23"等等其他不规范的子网掩码，此时需要根据位数进行进制转换后得出信息。
  - ![image-20220825213046810](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808993.png)

  

- 默认子网掩码

  - A:  255.0.0.0	8位
  - B: 255.255.0.0    16位
  - C: 255.255.255.0    24位

- 子网掩码越长，代表网络部分越长，网络范围越小

- 网络地址代表的是一个范围，不能给主机使用

- 广播地址，代表本网段的所有地址，也不能够给主机使用



#### 子网划分

![image-20220825213824665](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808994.png)

一，子网划分原因

1，IP地址分类

- 如果一个IP地址采用的是默认子网掩码：有类地址
- 如果一个IP地址采用的不是默认子网掩码：无类地址

2，子网划分原理

![image-20220827221734463](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808996.png)

![image-20220827221654191](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808997.png)

![image-20220827221603544](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808998.png)

案例：

![image-20220827221439899](https://raw.githubusercontent.com/Bssn520/Images/master/Test/202212201808999.png)

